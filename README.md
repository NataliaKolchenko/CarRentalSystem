# Car Rental System [Backend]

The prototype data of the server part of the main services of the vehicle rental system includes the following elements: vehicles, reservations, vehicle locations, vehicle types, brands and models.

**technical specification**
https://docs.google.com/document/d/1lqXPBUMpVnRqpWLStOnqN8MEUc9hm5XtY_bb7ArcRLA/edit?usp=sharing

**Database Diagram**
![img.png](img.png)

**Diagram CarRentalSystemApplication**
![img_1.png](img_1.png)

**Schema of project**
![img_2.png](img_2.png)

**Used technology stack in my web application:**
- Java 17
- Spring Framework
- Spring Security
- JPA
- PostgreSql
- H2
- Liquibase
- Jupiter - Testing
- Mockito - Testing
- Maven
- SLF4J
- Logback

### Database Structure

**Table address (class Address)**

| Column name | Type                   | Description                                                  |
| ------------ |------------------------|--------------------------------------------------------------|
| id  | bigint                 | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| zip_code  | character varying(10)  | zip code of address                                          |
| region  | character varying(100) | country name                                                 |
| region  | character varying(255) | region name                                                  |
| city  | character varying(255) | city name                                                    |
| district  | character varying(255) | district name                                                |
| street  | character varying(255) | street name                                                  |
| house  | integer                | house number                                                 |
| apartment  | character varying(50)  | apartment number of name                                     |
| additional_info  | character varying(255) | additional infornation to the address                        |
| create_date  | timestamp without time zone | timestamp of row creation - NOT NULL                       |

**Table booking (class booking)**

| Column name | Type                   | Description                                                  |
| ------------ |------------------------|--------------------------------------------------------------|
| id  | bigint                 | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| user_id  | character varying(100) | userId (from JWT), who created this booking -  NOT NULL      |
| booked_from_date  | date                   | first date if booking - NOT NULL                             |
| booked_to_date  | date                   | last date if booking - NOT NULL                              |
| booking_status  | character varying(50)  | booking status - NOT NULL                                    |
| city_start  | character varying(100) | city, when user will take a vehicle - NOT NULL               |
| city_end  | character varying(100) | city, when user will return a vehicle - NOT NULL             |
| create_date  | timestamp without time zone | timestamp of row creation - NOT NULL                         |
| update_date  | timestamp without time zone | timestamp of last update                                     |

**Table branch (class Branch)**

| Column name | Type                        | Description                                                  |
| ------------ |-----------------------------|--------------------------------------------------------------|
| id  | bigint                      | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| branch_name  | character varying(255)      | branch name                                                  |
| address_id  | bigint                      | address of this branch                                       |
| working_time  | character varying(255)      | working time of this branch                                  |
| phone  | character varying(50)       | contact phone for this branch                                |

**Table brand (class Brand)**

| Column name | Type                        | Description                                                  |
| ------------ |-----------------------------|--------------------------------------------------------------|
| id  | bigint                      | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| brand_name  | character varying(255)      | brand name                                                   |

**Table model (class Model)**

| Column name | Type                   | Description                                                  |
| ------------ |------------------------|--------------------------------------------------------------|
| id  | bigint                 | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| model_name  | character varying(255) | model name                                                   |
| brand_id  | bigint                   | brand of this model                                          |

**Table vehicle_type (class VehicleType)**

| Column name | Type                        | Description                                                  |
| ------------ |-----------------------------|--------------------------------------------------------------|
| id  | bigint                      | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| vehicle_type_name  | character varying(255)      | type name                                                    |

**Table sub_type (class SubType)**

| Column name | Type                   | Description                                                  |
| ------------ |------------------------|--------------------------------------------------------------|
| id  | bigint                 | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| sub_type_name  | character varying(255) | subtype name name                                            |
| vehicle_type_id  | bigint                   | vehicle type of this subtype                                 |

**Table vehicle (class Vehicle)**

| Column name | Type                   | Description                                                  |
| ------------ |------------------------|--------------------------------------------------------------|
| id  | bigint                 | id key of entity - NOT NULL GENERATED BY DEFAULT AS IDENTITY |
| vehicle_type_id  | character varying(255) | type of thos vehicle                                         |
| sub_type_id  | bigint                 | subtype type of this vehicle                                 |
| active  | boolean                | conditiion of this vehicle                                   |
| brand_id  | bigint                 | brand of this vehicle                                        |
| model_id  | bigint                 | model of this vehicle                                        |
| engine_type  | character varying(100) | engine type of this vehicle                                  |
| year  | bigint                 | year of manufacture of this vehicle                          |
| branch_id  | bigint                 | branch of this vehicle                                       |
| transmission_type  | character varying(100) | transmission type of this vehicle                            |
| mileage  | bigint                 | actual mileage of this vehicle                               |
| city  | character varying(100) | actual city where is staing this vehilce                     |
| favorite  | boolean                | a note about adding a vehicle to the preferred list          |
| vin_code  | character varying(10)                | vincode of this vehicle                                      |
| vehicle_number  | character varying(10)                |  registration number of this vehicle                  |
| vehicle_number  | character varying(10)                |  registration number of this vehicle                  |
| create_date  | timestamp without time zone | timestamp of row creation - NOT NULL                       |
| update_date  | timestamp without time zone | timestamp of last update                                     |
























